from src.polynomial.long_division import long_division


def test_simple_case():
    f = [3, 2, 1, 0, 3]  # Represents 3 + 2x + x^2 + 3x^4
    g = [1, 0, 1, 0, 1]  # Represents 1 + x^2 + x^4

    assert ([3], [0, 2, 17]) == long_division(f, g, 19)


def test_divisor_larger_than_dividend():
    f = [3, 2, 1, 0, 3]
    g = [1, 0, 1, 0, 1, 1]

    assert ([0], f) == long_division(f, g, 19)


def test_case():
    f = [0, 0, 0, 0, 1, 1]
    g = [1, 9, 0, 0, 1]

    assert ([1, 1], [9, 0, 1]) == long_division(f, g, 10)


def test_another():
    f = [1, 9, 0, 0, 1]
    g = [9, 0, 1]

    assert ([1, 0, 1], [2, 9]) == long_division(f, g, 10)


def test_inverse_leading_coefficient():
    f = [9, 0, 1]
    g = [2, 9]

    assert ([8,9], [3]) == long_division(f, g, 10)


# Stress test, according to spec on assingment
def test_speed():
    f = [47, 478, 70, 279, 53, 173, 445, 403, 239, 482, 160, 468, 480, 279, 106, 277, 331, 166, 283, 186,
        493, 116, 202, 183, 262, 477, 283, 399, 39, 180, 291, 176, 27, 313, 412, 82, 227, 66, 364, 178,
        49, 203, 297, 245, 287, 467, 161, 103, 498, 61, 346, 460, 336, 429, 198, 59, 235, 177, 372, 
        484, 263, 341, 399, 3, 458, 371, 153, 53, 419, 3, 459, 58, 230, 489, 91, 21, 417, 185, 294, 
        42, 155, 388, 72, 173, 288, 279, 385, 164, 136, 78, 468, 115, 21, 237, 23, 238, 231, 384, 278,
        235, 190, 365, 395, 489, 188, 405, 46, 88, 450, 262, 15, 187, 50, 418, 487, 231, 385, 126,
        99, 100, 204, 8, 233, 467, 149, 47, 78, 257, 221, 86, 372, 47, 84, 231, 260, 270, 127, 253,
        377, 308, 235, 200, 187, 150, 156, 77, 386, 66, 92, 5, 92, 492, 311, 174, 122, 414, 377,
        442, 412, 388, 382, 277, 301, 415, 314, 59, 455, 337, 303, 504, 91, 81, 109, 469, 82, 296, 508, 200,
        390, 244, 372, 31, 359, 175, 55, 37, 486, 223, 202, 71, 114, 186, 457, 500, 351, 309, 259, 318, 101,
        276, 317, 455, 341, 220, 254, 256, 80, 118, 73, 504, 486, 339, 105, 338, 131, 352, 103, 459, 4, 418, 
        296, 284, 364, 259, 409, 450, 206, 490, 22, 160, 70, 157, 264, 329, 493, 440, 338, 199, 94, 67, 422, 
        366, 170, 504, 78]
    g = [328, 123, 230, 17, 220, 291, 292, 384, 133, 311, 277, 156, 432, 326, 304, 154, 136, 377, 221, 208, 
        405, 4, 411, 123, 71, 293, 470, 159, 1, 16, 498, 374, 27, 265, 283, 327, 354, 142, 337, 317, 316, 
        367, 336, 273, 131, 390, 362, 346, 198, 440, 203, 471, 34, 95, 411, 252, 26, 29, 456, 384, 368, 74, 
        327, 282, 59, 56, 160, 199, 321, 282, 317, 150, 277, 483, 24, 425, 397, 217, 248, 354, 455, 117, 63, 
        35, 209, 217, 86, 246, 323, 361, 7, 258, 91, 429, 459, 7, 326, 467, 176, 315, 314, 191, 291, 490, 466, 
        282, 197, 81, 460, 420, 87, 182, 146, 161, 461, 489, 165, 114, 115, 506, 432, 34, 431, 251, 328, 460, 
        461, 79, 396, 399]

    modulus = 509

    long_division(f, g, modulus)
    assert True
